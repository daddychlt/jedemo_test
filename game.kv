
<MagicButton@MagicBehavior+MDRaisedButton>:


<GameScreen>:

    MDBoxLayout:
        id: grid
        opacity: 1
        orientation: "vertical"

        MDTopAppBar:
            title: "Jedemo"
            anchor_title: "left"
            opposite_color: True
            left_action_items: [["arrow-left", lambda x: root.go_to_home(self)]]

        MDProgressBar:
            id: progress
            type: "determinate"
            color: "white"
            size_hint: None, None
            height: "2dp"
            width: self.parent.width

        MDBoxLayout:
            orientation: "vertical"

            MDBoxLayout:
                id: box_level
                orientation: "vertical"
                size_hint: 1, None

                MDLabel:
                    id: level
                    halign: "center"
                    md_bg_color: "#e1dedd"

            MDBoxLayout:
                orientation: "vertical"

                MDBoxLayout:
                    orientation: "vertical"

                    MDBoxLayout:
                        size_hint_y: None
                        height: "150dp"

                        MDLabel:
                            id: indice
                            halign: "center"
                            font_size:"15dp"

                    MDLabel:
                        id: texte
                        text: "_"
                        halign: "center"
                        font_size:"20dp"

                MDGridLayout:
                    cols: 3
                    size_hint: None, None
                    size: "146dp", "55dp"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}

                    MDIconButton:
                        icon: "delete"
                        theme_icon_color: "Custom"
                        icon_color: "red"
                        ripple_alpha: 0
                        on_release: root.delete_word(self)

                    MDIconButton:
                        icon: "backspace"
                        theme_icon_color: "Custom"
                        icon_color: "red"
                        ripple_alpha: 0
                        on_release: root.erase_letter(self)

                    MDIconButton:
                        id: check
                        icon: "check"
                        theme_icon_color: "Custom"
                        icon_color: "green"
                        ripple_alpha: 0
                        on_release: root.validate_word(self)





        MDBoxLayout:
            orientation: "vertical"
            size_hint: None, None
            width: self.parent.width
            height: "200dp"

            MDGridLayout:
                id: bouton_box
                rows: 2
                size_hint: .9, None
                height: "100dp"
                spacing: "10dp"
                pos_hint: {"center_x": 0.5, "center_y": 0.5}

            MDWidget:
                size_hint_y: None
                height: "10dp"

            MDLabel:
                id: prox
                halign: "center"
                color: "red"
                font_size:"15dp"
                opacity: 0

            MDWidget:
                size_hint_y: None
                height: "70dp"

    MDFloatLayout:
        id: recompense
        size_hint: None, None
        size: "200dp", "250dp"
        radius: [45]
        md_bg_color: "red"
        opacity: .8
        elevation: 5
        line_color: "blue"
        line_width: 2
        pos_hint: {"center_x": 0.5, "center_y":1.5}

        MDLabel:
            id: loadingText
            text: "Bravo, bien jou√©..."
            halign: "center"
            font_size: "20dp"
            pos_hint: {"center_x": 0.5, "center_y": 0.8}

        MDIcon:
            id: center_crown
            icon: "crown"
            font_size: "50dp"
            theme_text_color: "Custom"
            text_color: "yellow"
            pos_hint: {"center_x": .5, "center_y": .5}

        MDIcon:
            id: left_crown
            icon: "crown"
            font_size: "40dp"
            theme_text_color: "Custom"
            text_color: "yellow"
            pos_hint: {"center_x": .5, "center_y": .5}

        MDIcon:
            id: right_crown
            icon: "crown"
            font_size: "40dp"
            theme_text_color: "Custom"
            text_color: "yellow"
            pos_hint: {"center_x": .5, "center_y": .5}

        MagicButton:
            id: bouton_next_level
            text: "Continuer"
            size_hint: .4, None
            pos_hint: {"center_x":.5, "center_y":.3}
            on_release: root.next_theme(self)
            on_press: self.grow()

        MDProgressBar:
            id: progress_rep
            type: "determinate"
            color: "blue"
            back_color: "white"
            size_hint: None, None
            height: "2dp"
            width: "100dp"
            pos_hint: {"center_x":.5, "center_y":.1}
            opacity: 0
